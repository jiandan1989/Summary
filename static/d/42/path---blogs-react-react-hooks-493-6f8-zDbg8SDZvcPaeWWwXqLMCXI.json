{"data":{"site":{"siteMetadata":{"title":"个人博客","author":"凝聚者"}},"markdownRemark":{"id":"5824daa8-455e-5777-968b-febb5e08db71","html":"<!-- ![图片](https://source.unsplash.com/random/1200x1000) -->\n<h3>useState</h3>\n<ul>\n<li>\n<p>Hooks 前修改</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n</ul>\n<p>class StateDemo extends Component {\nconstructor() {\nsuper();\nthis.state = {\ncount: 0,\nqueryParams: {\npageNumber: 1,\npageSize: 10,\n}\n};\n}</p>\n<p>  addCount = () => {\nthis.setState(prevState => {\ncount: prevState.count + 1,\n});\n}</p>\n<p>  changeParams = (page) => {\nthis.setState(prevState => {\nqueryParams: { …prevState, pageNumber: page },\n});\n}\nrender() {\nreturn (\n<div>\n当前数: {this.state.count}\n<button onClick={addCount}>Add</button>\n&#x3C;button onClick={() => { changeParams(2); }}>changeParams</button>\n</div>\n);\n}\n}</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">- 使用 Hooks useState\n```jsx\nimport React, { useState, Fragment } from &#39;react&#39;;\n\nfunction UseStateDemo() {\n  const [count, setCount] = useState(0);\n  const [queryParams, setParams] = useState({ pageNumber: 1, pageSize: 10 });\n  function addCount() {\n    setCount(count + 1);\n  }\n\n  function changeParams(page) {\n    setParams(prevParams =&gt; ({\n      ...prevParams,\n      pageNumber: page,\n    }));\n  }\n\n  return (\n    &lt;Fragment&gt;\n      当前count: {count}\n      &lt;button onClick={addCount}&gt;Add&lt;/button&gt;\n      &lt;button onClick={() =&gt; { changeParams(queryParams.pageNumber + 1); }}&gt;Add&lt;/button&gt;\n    &lt;/Fragment&gt;\n  );\n}\n\n#### 区别\n- 写法简洁, 功能函数足够简便</code></pre></div>\n<h3>useRef</h3>\n<h3>useEffect</h3>","excerpt":"useState Hooks 前修改 class StateDemo extends Component {\n  constructor() {\n    super();\n    this.state = {\n      count: 0,\n      queryParams: {\n        pageNumber…","frontmatter":{"title":"React Hooks","date":"2019 / 05 / 26"}}},"pageContext":{"slug":"/blogs/React/react-hooks/","previous":{"fields":{"slug":"/blogs/Vue/"},"frontmatter":{"title":"Learn Vue"}},"next":null}}